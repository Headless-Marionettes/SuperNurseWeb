"use strict";$("#userInfo").submit(function(e){e.preventDefault(),console.log("createPatient()");$("input",this).each(function(){$(this).css("border-color","#ced4da").parent().next("span.form-error-message").addClass("hidden")}),$(":invalid",this).each(function(){2<$(this)[0].validationMessage.length&&$(this).parent().next("span.form-error-message").removeClass("hidden");$(this).css("border-color","#e53935"),console.log("invalid forms")}).length<=0&&(e.preventDefault(),console.log("sending")),$.ajaxSetup({beforeSend:function(e){console.log("before send");var t="JWT "+window.localStorage.getItem("token");console.log(t),e.setRequestHeader("Authorization",t)}});var t={first_name:$("#patientFirstName").val(),last_name:$("#patientLastName").val(),height:$("#patientHeight").val(),weight:$("#patientWeight").val(),date_of_birth:$("#patientDateOfBirth").val(),room:$("#patientRoom").val(),alergies:$("#patientAlergies").val(),blood_type:$("#patientBloodType").val(),sex:$("#patientSex").val(),emergency_contact:{name:"Empty for now",phonenumber:"Empty for now",email:"Empty for now",address:"Empty for now"}};console.log("Before posting"),$.ajax({url:"https://super-nurse.herokuapp.com/patients",type:"POST",dataType:"json",data:t,success:function(){console.log("Patient created"),window.location.href="./patients-list.html"}}).fail(function(e){console.log("Failed to create patient"),console.log(e)})}),$("#userInfo").bind("reset",function(){console.log("reset"),$("input",this).each(function(){$(this).css("border-color","#ced4da").parent().next("span.form-error-message").text("no error").addClass("hidden")})});