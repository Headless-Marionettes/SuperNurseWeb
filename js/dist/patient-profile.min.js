"use strict";var load=function(){$.ajaxSetup({beforeSend:function(e){console.log("before send");var t="JWT "+window.localStorage.getItem("token");console.log(t),e.setRequestHeader("Authorization",t)}});var e=new URL(window.location.href).searchParams.get("id");console.log(e),$.ajax({url:"https://super-nurse.herokuapp.com/patients/"+e,action:"GET",context:document.body,crossDomain:!0,success:function(e){$("#patient-name").html(e[0].first_name+" "+e[0].last_name),$("#patient-room").html(e[0].room),$("#patient-birth").html(e[0].date_of_birth),$("#patient-height").html(e[0].height),$("#patient-weight").html(e[0].weight),$("#patient-allergies").html(e[0].alergies)},error:function(){$("#patient-name").html("error"),$("#patient-room").html("error"),$("#patient-birth").html("error"),$("#patient-height").html("error"),$("#patient-weight").html("error"),$("#patient-allergies").html("error")}}),$.ajax({url:"https://super-nurse.herokuapp.com/patients/"+e+"/records",action:"GET",context:document.body,crossDomain:!0,success:function(e){0==e.length&&$("#listReports").append("<h2>There are no reports</h2>");for(var t=0;t<e.length;t++)$("#listReports").append('<div class="shadow border rounded p-3 mb-3">\n                    <h3 class="text-dark-primary">Report from '+e[t].date+'</h3>\n                    <div class="row">\n                        <div class="col-md font-weight-bold mt-4">Blood Pressure: '+e[t].blood_pressure+'</div>\n                        <div class="col-md font-weight-bold mt-4">Respiratory Rate: '+e[t].respiratory_rate+'</div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md font-weight-bold mt-4">Blood Oxygen: '+e[t].blood_oxygen_level+'</div>\n                        <div class="col-md font-weight-bold mt-4">Heart Beat Rate: '+e[t].heart_beat_rate+'</div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md font-weight-bold mt-4">Additional Information: </div>\n                    </div>\n                </div>')},error:function(){$("#listReports").html("Error")}})};$("#new-report-form").ready(function(){$("#new-report-form").submit(function(e){e.preventDefault(),$.ajaxSetup({beforeSend:function(e){console.log("before send");var t="JWT "+window.localStorage.getItem("token");console.log(t),e.setRequestHeader("Authorization",t)}});var t={blood_pressure:$("#bloodPressure").val()},o="https://super-nurse.herokuapp.com/patients/"+(o=new URL(window.location.href)).searchParams.get("id")+"/records";console.log(o);t=$(this).serialize();var r=new Date,n=r.getDate(),a=r.getMonth()+1;n<10&&(n="0"+n),a<10&&(a="0"+a),r=n+"/"+a+"/"+r.getFullYear(),console.log(r),t+="&date="+r,console.log(t),$.ajax({type:"POST",url:o,data:t,success:function(){console.log("Report added")},error:function(){console.log("Error adding report")}})})});